<!-- projects.component.html -->
<section class="projects">
  <h2>{{ 'PROJECTS' | translate }}</h2>
  <div class="project-list">
    <app-project-card
      *ngFor="let project of projects"
      [projectTitle]="project.TITLE"
      [projectImageUrl]="project.IMAGE_URL"
      [projectShortDescription]="project.SHORT_DESCRIPTION"
      [projectUrl]="project.PROJECT_URL"
      [projectDescription]="project.DESCRIPTION"
      (viewProject)="openProject(project)"
    ></app-project-card>
  </div>

  <!-- Full-screen modal moved to parent -->
  <div class="overlay" *ngIf="showDialog" (click)="closeDialog()"></div>
  <div
    class="dialog dialog-animate"
    *ngIf="showDialog && selectedProject"
    role="dialog"
    aria-modal="true"
    aria-labelledby="dialog-title"
    (click)="$event.stopPropagation()"
  >
    <button type="button" class="close" aria-label="Close" (click)="closeDialog()">×</button>
    <h3 id="dialog-title">{{ selectedProject!.TITLE }}</h3>
    <img [src]="selectedProject!.IMAGE_URL" [alt]="selectedProject!.TITLE" class="dialog-image" />
    <p class="dialog-description">{{ selectedProject!.DESCRIPTION }}</p>
    <a *ngIf="selectedProject!.PROJECT_URL !== 'Project is private' && selectedProject!.PROJECT_URL !== 'Projet privé'"
       [href]="selectedProject!.PROJECT_URL" target="_blank" rel="noopener noreferrer">
      {{ 'VIEW_PROJECT' | translate }}
    </a>
    <span *ngIf="selectedProject!.PROJECT_URL === 'Project is private' || selectedProject!.PROJECT_URL === 'Projet privé'">
      {{ selectedProject!.PROJECT_URL }}
    </span>
  </div>
</section>